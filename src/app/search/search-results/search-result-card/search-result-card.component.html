<div class="result-card" *ngIf="!isSkeleton">
  <div class="card-content">
    <img
      [src]="appData?.avatarSrc"
      alt="avatar"
      class="card-avatar"
      loading="lazy"
    >
    <div class="card-info">
      <h1 class="mat-headline card-title truncated-text">{{appData?.name}}</h1>
      <span class="mat-body-1 card-developer truncated-text">{{appData?.developer}}</span>
    </div>
    <div class="card-action">
      <button
        *ngIf="!appData?.tracking && !isLoadingTrackingBtn"
        mat-stroked-button
        class="btn-outline card-tracking-btn btn-magic"
        color="primary"
        (click)="onTrackingAppClick()"
      ><span class="text-uppercase">Отслеживать</span>
      </button>
      <button
        *ngIf="appData?.tracking && !isLoadingTrackingBtn"
        mat-button
        class="card-tracking-btn"
        disabled
      ><span class="text-uppercase">Отслеживается</span>
      </button>
      <div class="card-tracking-loading" *ngIf="isLoadingTrackingBtn">
        <mat-spinner diameter="36"></mat-spinner>
      </div>
    </div>
  </div>
  <mat-chip-list class="card-markets">
    <mat-chip *ngIf="appData?.linkAppStore" class="chip chip-market"
              (click)="appData && openMarketInNewTab(appData.linkAppStore)">App Store
    </mat-chip>
    <mat-chip *ngIf="appData?.linkGooglePlay" class="chip chip-market"
              (click)="appData && openMarketInNewTab(appData.linkGooglePlay)">Google Play
    </mat-chip>
    <mat-chip *ngIf="appData?.linkAppGallery" class="chip chip-market"
              (click)="appData && openMarketInNewTab(appData.linkAppGallery)">App Gallery
    </mat-chip>
  </mat-chip-list>
</div>


<div class="result-card result-card-skeleton" *ngIf="isSkeleton">
  <div class="card-content">
    <div class="card-avatar-skeleton">
      <app-skeleton-loader [circle]="100" [Swidth]="64" [Sheight]="64"></app-skeleton-loader>
    </div>
    <div class="card-info">
      <div class="card-title-skeleton">
        <app-skeleton-loader [Swidth]="100" [Sheight]="24"></app-skeleton-loader>
      </div>
      <div class="card-developer-skeleton">
        <app-skeleton-loader [Swidth]="200" [Sheight]="14"></app-skeleton-loader>
      </div>
    </div>
    <div class="card-action">
    </div>
  </div>
  <div class="card-markets-skeleton">
    <div class="chip-market-skeleton">
      <app-skeleton-loader [circle]="24" [Swidth]="100" [Sheight]="32"></app-skeleton-loader>
    </div>
    <div class="chip-market-skeleton">
      <app-skeleton-loader [circle]="24" [Swidth]="100" [Sheight]="32"></app-skeleton-loader>
    </div>
    <div class="chip-market-skeleton">
      <app-skeleton-loader [circle]="24" [Swidth]="100" [Sheight]="32"></app-skeleton-loader>
    </div>
  </div>
</div>
